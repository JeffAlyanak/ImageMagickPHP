{
  "name": "Imagemagickphp",
  "tagline": "An ImageMagick \"exec\" component for PHP apps",
  "body": "ImageMagickPHP\r\n===============\r\n\r\n[![SensioLabsInsight](https://insight.sensiolabs.com/projects/ff8b439c-772a-495e-9780-4e8e8e451254/mini.png)](https://insight.sensiolabs.com/projects/ff8b439c-772a-495e-9780-4e8e8e451254)\r\n[![Build Status](https://travis-ci.org/Orbitale/ImageMagickPHP.png)](https://travis-ci.org/Orbitale/ImageMagickPHP)\r\n[![Coverage Status](https://coveralls.io/repos/Orbitale/ImageMagickPHP/badge.png)](https://coveralls.io/r/Orbitale/ImageMagickPHP)\r\n\r\nAn ImageMagick \"exec\" component for PHP apps.\r\n\r\nInstallation\r\n===============\r\n\r\nInstall with [Composer](https://getcomposer.org/), it's the best packages manager you can have :\r\n\r\n```shell\r\ncomposer require orbitale/imagemagick-php\r\n```\r\n\r\nRequirements\r\n===============\r\n\r\n* PHP 5.3.3 or more\r\n* The `exec()` function **must** be available and work in order to communicate with ImageMagick executables.\r\n* [ImageMagick](http://www.imagemagick.org/) has to be installed on your server, and the binaries must be executable by `exec()`.\r\n\r\nSettings\r\n===============\r\n\r\nThere are not many settings, but when you instanciate a new `Command` object, you may specify ImageMagick's executable directory directly in the constructor, for example :\r\n\r\n```php\r\nuse Orbitale\\Component\\ImageMagick\\Command;\r\n\r\n// Default directory for many Linux distributions:\r\n$command = new Command('/usr/bin');\r\n\r\n// Or in Windows, depending of the install directory:\r\n$command = new Command('C:\\ImageMagick');\r\n\r\n// If it is available in the global scope for the user running the script:\r\n$command = new Command('');\r\n```\r\n\r\nThe constructor will automatically search for the `convert` executable, test it, and throw an exception if it's not available.\r\n\r\n/!\\ Make sure your ImageMagick executables have the \"+x\" chmod option, and that the user has the rights to execute it.\r\n\r\nUsage\r\n===============\r\n\r\n### Basic image converter with ImageMagick's basic logo\r\n\r\nRead the comments :\r\n\r\n```php\r\nrequire_once 'vendor/autoload.php'; // A classic one, if you know how Composer works.\r\n\r\nuse Orbitale\\Component\\ImageMagick\\Command;\r\n\r\n// Create a new command\r\n$command = new Command();\r\n\r\n$response = $command\r\n    // The command will search for the \"logo.png\" file. If it does not exist, it will throw an exception.\r\n    // If it does, it will create a new command with this source image.\r\n    ->convert('logo.png')\r\n\r\n    // The \"file()\" method will simply add a file name to the command.\r\n    // For this one, it will be used as an output file name,\r\n    //  that's why we set the 2nd argument \"checkExistence\" to \"false\",\r\n    //  so the Command will not check if the file exists (because it would throw an exception then)\r\n    ->file('logo.gif', false)\r\n\r\n    // At this time, the command shall look like this :\r\n    // $ \"{ImageMagickPath}convert\" \"logo.png\" \"logo.gif\"\r\n\r\n    // Then we run the command by using \"exec()\" to get the CommandResponse\r\n    ->run();\r\n\r\nif (!$response->hasFailed()) {\r\n    // If it has not failed, then we simply send it to the buffer\r\n    header('Content-type: image/gif');\r\n    echo file_get_contents('logo.gif');\r\n}\r\n```\r\n\r\n### Simply resizing an image\r\n\r\n```php\r\nrequire_once 'vendor/autoload.php';\r\n\r\nuse Orbitale\\Component\\ImageMagick\\Command;\r\n\r\n// Create a new command\r\n$command = new Command();\r\n\r\n$response = $command\r\n\r\n    // Here we are using \"mogrify\", so the file must exist as it is overwritten (it's basically the difference between \"convert\" and \"mogrify\")\r\n    ->mogrify('background.jpeg')\r\n\r\n    // The \"resize\" method allows you to add a \"Geometry\" operation.\r\n    // It must fit to the \"Geometry\" parameters in the ImageMagick official documentation (see links below)\r\n    ->resize('50x50')\r\n\r\n    ->run()\r\n;\r\n\r\nif (!$response->hasFailed()) {\r\n    header('Content-type: image/jpeg');\r\n    echo file_get_contents('background.jpeg');\r\n}\r\n```\r\n\r\n\r\nUseful links\r\n===============\r\n\r\n* ImageMagick official website: http://www.imagemagick.org\r\n* ImageMagick documentation:\r\n    * [Installation binaries](http://www.imagemagick.org/script/binary-releases.php) (depending on your OS and/or distribution)\r\n    * [Geometry](http://www.imagemagick.org/script/command-line-processing.php#geometry) (to resize or place text)\r\n    * [All command-line options](http://www.imagemagick.org/ImageMagick-7.0.0/script/command-line-options.php) ; they're not all available for now, so feel free to make a PR ! ;)\r\n",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}